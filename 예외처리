package sec03.exam01;
import java.util.Scanner;
import java.util.ArrayList;

class WeatherApp {
	String name;
	int score;
	
	public WeatherApp (String name , int score  ) {

	this.name = name;
	this.score = score;
	}
public static void studentData (ArrayList<WeatherApp> students ) {	
	
	System.out.println("\n===== 학생 정보 =====");
	for( WeatherApp s : students ) { 
	System.out.println("학생 이름:" + s.name + "| 학생 점수:" + s.score );
	}
} 
	public static void main(String[] args) {
 
     Scanner sc = new Scanner(System.in); 
    ArrayList <WeatherApp> students = new ArrayList<>();
  int count = readCount( sc , "학생수를 입력하세요:");
 for(int i = 0 ; i < count ; i++ ) {
   System.out.println("\n[" + (i + 1) + "번째 학생]");
   String name  = readName(sc, "이름을 입력하세요(한글/영문, 공백 허용): ");
     int score    = readScore(sc, "점수를 입력하세요(0~100): ");
     students.add(new WeatherApp(name, score));
 }
 studentData(students);
	}
	
	// 예외처리

	private static int readCount(Scanner sc, String prompt) {
	 while(true) {
		 System.out.println(prompt);
		 String line = sc.nextLine().trim();
	 try {
	 int n = Integer.parseInt(line);
	  if( n < 0 ) {
		  System.out.println("점수는 0이상부터 입력 가능합니다:");
	  continue;
	  }
	  return n;
	 }
	catch (NumberFormatException e){ 
	 System.out.println("숫자만 입력할 수 있습니다.");
	 }
	 }
	}
   private static String readName(Scanner sc, String prompt) {
	while(true) { 	
		System.out.println(prompt);
	String name = sc.nextLine().trim();
    if(name.isEmpty()) {
    	System.out.println("이름이 비어 있습니다.");
		continue;
    }
	if(!name.matches("[가-힣a-zA-Z\\- ]+")) {
		System.out.println("이름에 숫자나 특수문자를 넣을 수 없습니다.");
		  continue;
	}
	return name;
    }
  }
   private static int readScore(Scanner sc, String prompt) {
		while(true){
			System.out.println(prompt);
			String line = sc.nextLine().trim();
			int score;
		try {
		score = Integer.parseInt(line);
		} 	
		catch (NumberFormatException e) {
			System.out.println("숫자만 입력할 수 있습니다.");
			 continue;
		}
		if (score < 0 || score > 100 ) {
		System.out.println("점수는 0점부터100점까지 입니다.");
		 continue;
		}
		return score;
		   }
   }
}
// 클래스	 WeatherApp을 Student로 바꿔야함	
		
		
		
		
	
